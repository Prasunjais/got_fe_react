(this.webpackJsonpgot_fe=this.webpackJsonpgot_fe||[]).push([[0],{139:function(e,t,a){e.exports=a.p+"static/media/logo.cd9c7440.svg"},140:function(e,t,a){e.exports=a.p+"static/media/logo2.50bd2ddb.svg"},141:function(e,t,a){e.exports=a.p+"static/media/logo3.7bdeef18.svg"},142:function(e,t,a){e.exports=a.p+"static/media/logo4.fd979064.svg"},143:function(e,t,a){e.exports=a.p+"static/media/bolton.bf03a6fb.svg"},144:function(e,t,a){e.exports=a.p+"static/media/johnSnow.10fee5d0.svg"},150:function(e,t,a){e.exports=a(245)},155:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},245:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),o=a.n(c),l=(a(155),a(37)),s=a(21),i=a(17),m=a(52);var u=function(){for(var e={},t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return a.forEach((function(t){e=Object(i.a)({},e,Object(m.a)({},t,t))})),e}("SCROLL_TO_TOP","LOCATION_LIST","BATTLE_DETAILS");function d(e){return function(t){return t({type:u.LOCATION_LIST,data:e})}}var p=u.SCROLL_TO_TOP,f=u.LOCATION_LIST,b=u.BATTLE_DETAILS,h={locationList:[{_id:"",name:"Battle Search",summer:!0,year:0,location:"",region:"",note:"",battleNumber:0,attackerKing:"",defenderKing:"",attackerOutcome:"",battleType:"",majorDeath:0,majorCapture:0,attackerSize:0,defenderSize:0,attackerCommander:"",defenderCommander:"",attackers:[],defenders:[]}]};var g=Object(s.c)({battle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(i.a)({},e,{scrollToTop:t.shouldBeScrolledToTop});case f:return Object(i.a)({},e,{locationList:t.data});case b:return Object(i.a)({},e,{battleDetails:t.data});default:return e}}}),O=a(126),E=a(34),v=a(35),j=a(38),y=a(36),k=a(39),x=a(252),T=a(23),S=a.n(T),L=a(45),N=a(250),w=a(145),_=a(98),C=a(13),D=a(127),A=a.n(D),K={base_url:"https://gotbackend.herokuapp.com/api/v1/"},B=Object(i.a)({},K);switch(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BUILD_ENV){case"staging":case"uat":case"production":B=Object(i.a)({},{base_url:"https://gotbackend.herokuapp.com/api/v1/"});break;default:B=Object(i.a)({},K)}var I=Object(i.a)({},B),P=function(){var e=Object(L.a)(S.a.mark((function e(){var t,a,n,r,c,o=arguments;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],a=o.length>1&&void 0!==o[1]&&o[1],n=o.length>2&&void 0!==o[2]&&o[2],r="",t&&(r+="king=".concat(t)),a&&(r+="&location=".concat(a)),n&&(r+="&type=".concat(n)),e.next=9,A.a.get(I.base_url+"/battle/search/?".concat(r,"&skip=0&limit=50"));case 9:if(200!=(c=e.sent).status){e.next=14;break}return e.abrupt("return",c.data.data);case 14:return e.abrupt("return",{results:[]});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=a(146),z=N.a.Option,q=function(){var e=Object(L.a)(S.a.mark((function e(t){var a,n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(!1,t,!1);case 2:return a=e.sent,e.next=5,P(t,!1,!1);case 5:return n=e.sent,e.next=8,P(!1,!1,t);case 8:return r=e.sent,e.abrupt("return",[{query:t,category:"King",count:n.results.length},{query:t,category:"Location",count:a.results.length},{query:t,category:"Type",count:r.results.length}]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function U(e){return r.a.createElement(z,{key:"".concat(e.category,",").concat(e.query),text:e.category},r.a.createElement("div",{className:"global-search-item"},r.a.createElement("span",{className:"global-search-item-desc"},"Found ",e.query," on \xa0",r.a.createElement("a",{href:"https://gotbackend.herokuapp.com/api/v1/battle/search?location=".concat(e.query,"&skip=0&limit=10"),target:"_blank",rel:"noopener noreferrer",className:"ml-2"},e.category)),r.a.createElement("span",{className:"global-search-item-count"},e.count," results")))}var M=Object(R.a)(q,50),V=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(j.a)(this,Object(y.a)(t).call(this,e))).onSelect=function(e){a.props.updateTheBattleDetails(e),console.log("Im selected ",e)},a.handleSearch=function(){var e=Object(L.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({dataSource:[]}),e.next=3,M(t);case 3:n=e.sent,a.setState({dataSource:n||[]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={dataSource:[]},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state.dataSource;return r.a.createElement("div",{className:"global-search-wrapper",style:{width:400}},r.a.createElement(N.a,{className:"global-search",size:"large",style:{width:"100%",color:"black"},dataSource:e.map(U),onSelect:this.onSelect,onSearch:this.handleSearch,placeholder:"Search for GOT",optionLabelProp:"text"},r.a.createElement(w.a,{suffix:r.a.createElement(_.a,{className:"search-btn",style:{marginRight:-12},size:"large",type:"primary"},r.a.createElement(C.a,{type:"search"}))})))}}]),t}(n.Component),W=a(139),F=a.n(W),H=a(140),J=a.n(H),G=a(141),Q=a.n(G),X=a(142),Y=a.n(X),Z=a(143),$=a.n(Z),ee=a(144),te=a.n(ee),ae=a(253),ne=a(248),re=a(249),ce=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(j.a)(this,Object(y.a)(t).call(this,e))).updateTheBattleDetails=function(){var e=Object(L.a)(S.a.mark((function e(t){var n,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.split(","),console.log("The query here is --\x3e ",n),r="","King"!=n[0]){e.next=7;break}return e.next=6,P(n[1],!1,!1);case 6:r=e.sent;case 7:if("Location"!=n[0]){e.next=11;break}return e.next=10,P(!1,n[1],!1);case 10:r=e.sent;case 11:if("Type"!=n[0]){e.next=15;break}return e.next=14,P(!1,!1,n[1]);case 14:r=e.sent;case 15:a.props.storeLocationList(r.results);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.battle,e.locationList);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container-fluid py-4 backgroundPattrn"},r.a.createElement("div",{className:"row px-4 py-2"},r.a.createElement("div",{className:"col-md-8 col-sm-12"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 m-3 expand expand-portrait text-white"},r.a.createElement("a",{href:"https://fontmeme.com/game-of-thrones-font/"},r.a.createElement("img",{src:"https://fontmeme.com/permalink/200227/d3f2919b6356d629c15beea3e1f139e0.png",alt:"game-of-thrones-font",border:"0"})),r.a.createElement("div",{class:"d-flex align-items-center py-3"},r.a.createElement(V,{updateTheBattleDetails:this.updateTheBattleDetails}))))),r.a.createElement("div",{className:"col-md-4 col-sm-12"},r.a.createElement("div",{class:"d-flex flex-row bd-highlight mb-3"},r.a.createElement("img",{src:F.a,alt:"icon",width:"80px",className:"mr-2"}),r.a.createElement("img",{src:J.a,alt:"icon",width:"80px",className:"mr-2"}),r.a.createElement("img",{src:Q.a,alt:"icon",width:"80px",className:"mr-2"}),r.a.createElement("img",{src:Y.a,alt:"icon",width:"80px",className:"mr-2"})))),r.a.createElement("div",{className:"row my-1 "},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{class:"d-flex justify-content-center my-5"},r.a.createElement("a",{href:"https://fontmeme.com/game-of-thrones-font/"},r.a.createElement("img",{src:"https://fontmeme.com/permalink/200227/243ea3b3bc4332def6984631bbb8b624.png",alt:"game-of-thrones-font",border:"0"})))),r.a.createElement("div",{class:"d-flex justify-content-center"},r.a.createElement("img",{className:"rounded-circle z-depth-2",width:"20%",alt:"100x100",src:te.a,"data-holder-rendered":"true"}),r.a.createElement("img",{className:"rounded-circle z-depth-2",alt:"100x100",width:"20%",src:$.a,"data-holder-rendered":"true"})),r.a.createElement("div",{className:"table-battle-list px-3"},t.length&&r.a.createElement("div",{class:"d-flex justify-content-center my-5"},r.a.createElement("a",{href:"https://fontmeme.com/game-of-thrones-font/"},r.a.createElement("img",{src:"https://fontmeme.com/permalink/200227/3f9e8d2a7612f8591d3000047b68c607.png",alt:"game-of-thrones-font",border:"0"}))),t.length&&t.map((function(e,t){return r.a.createElement("div",{className:"p-3 my-2 rounded bg-docs-transparent-grid"},r.a.createElement(ae.a,null,r.a.createElement(ne.a,null,t+1," - ",e.name," - (",e.year,") | ",e.battleType," | ",e.region),r.a.createElement(re.a,null,e.attackerKing," (Attacker King) V/S ",e.defenderKing," (Defender King) ",r.a.createElement("br",null),"Attacker Outcome - ",e.attackerOutcome," | Major Deaths - ",e.majorDeath," ",r.a.createElement("br",null),"Attacker Commander - ",e.attackerCommander," | Defender Commander - ",e.defenderCommander," ",r.a.createElement("br",null),"Major Capture - ",e.majorCapture," | note - ",e.note," ",r.a.createElement("br",null))),r.a.createElement("hr",null))}))))))}}]),t}(n.Component),oe=Object(x.e)(Object(l.b)((function(e){return{battle:e.battle,locationList:e.battle.locationList}}),(function(e){return Object(s.b)({storeLocationList:d},e)}))(ce)),le=a(29),se=Object(le.a)(),ie=function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(v.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.dispatch;this.props.location!==e.location&&t(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return t({type:u.SCROLL_TO_TOP,shouldBeScrolledToTop:!e})}}())}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),me=Object(x.e)(Object(l.b)(null)(ie)),ue=(a(242),a(243),a(244),function(){window.scrollTo(0,0),"scrollRestoration"in se&&(se.scrollRestoration="manual")}),de=function(e){function t(e){var a;return Object(E.a)(this,t),(a=Object(j.a)(this,Object(y.a)(t).call(this,e))).componentDidMount=function(){console.log("render")},a.state={_id:"",name:"",summer:!0,year:0,location:"",region:"",note:"",battleNumber:0,attackerKing:"",defenderKing:"",attackerOutcome:"",battleType:"",majorDeath:0,majorCapture:0,attackerSize:0,defenderSize:0,attackerCommander:"",defenderCommander:"",attackers:[],defenders:[]},a}return Object(k.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement(x.c,{history:se},r.a.createElement(me,null,r.a.createElement(x.d,null,r.a.createElement(x.b,{path:"/",exact:!0,component:oe,onEnter:ue}),r.a.createElement(x.a,{from:"*",to:"/404"}))))))}}]),t}(n.Component),pe=Object(l.b)((function(e){return{battle:e.battle}}),(function(e){return Object(s.b)({storeLocationList:d},e)}))(de),fe=Object(s.a)(O.a)(s.d)(g);o.a.render(r.a.createElement(l.a,{store:fe},r.a.createElement(pe,null)),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.e253c174.chunk.js.map